<% provide(:title, "Want") %>
<h1><%= @goal.content %></h1>
<div class="goal-details">
  <% if @goal.improvements.size > 0 %>
    <p class="improvements-large">
      <%= @goal.improvements.size %><%= fa_icon('trophy') %>
    </p>
  <% else %>
    <p class="goal-begin">you are working toward your first improvement</p>
  <% end %>
  <ul class="list-group goal">
    <li class="list-group-item">
      <%= fa_icon 'clock-o' %>
      this was created 
      <%= local_time_ago(@goal.created_at) %>
    </li>
    <li class="list-group-item">
      <% if @goal.completed? %>
      <%= fa_icon 'check-square-o' %> 
      you marked this as complete 
      <%= local_time_ago(@goal.completed_date) %>
      <% elsif @goal.active? %>
      <%= fa_icon 'play-circle-o' %> 
      you are actively improving this want
      <% else %>
      <%= fa_icon 'pause-circle-o' %> 
      you have put this want on hold
      <% end %>
    </li>
    <% unless @goal.due_date.blank? %>
    <li class="list-group-item">
      <%= fa_icon 'calendar' %> 
      you want to achieve this by 
      <%= local_relative_time(@goal.due_date, type: 'weekday-or-date') %>
    </li>
    <% end %>
  </ul>
</div>
<div class="goal-improvements">
  <div class="list-group">
    <%= render @improvements %>
  </div>
</div>
<div class="goal-actions">
  <%= link_to fa_icon('pencil-square-o', text: 'Edit'), edit_goal_path(@goal), 
        class: 'btn btn-orange btn-block btn-lg disabled' %>
</div>